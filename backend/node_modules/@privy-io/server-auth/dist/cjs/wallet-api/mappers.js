"use strict";function e(e){return e.map((({name:e,action:o,method:a,conditions:r})=>({name:e,method:a,action:o,conditions:r.map((e=>"ethereum_calldata"===e.fieldSource?{field_source:e.fieldSource,field:e.field,operator:e.operator,value:e.value,abi:e.abi}:"ethereum_typed_data_message"===e.fieldSource?{field_source:e.fieldSource,field:e.field,operator:e.operator,value:e.value,typed_data:{primary_type:e.typedData.primaryType,types:e.typedData.types}}:{field_source:e.fieldSource,field:e.field,operator:e.operator,value:e.value}))})))}exports.convertPolicyCreateRequestToPolicy=function(o){return{name:o.name,chain_type:o.chainType,version:o.version,rules:e(o.rules),owner:o.owner?{public_key:o.owner.publicKey}:void 0,owner_id:o.ownerId}},exports.convertPolicyCreateRuleToPolicyRule=e,exports.convertPolicyResponseToPolicy=function(e){return{id:e.id,name:e.name,version:e.version,chainType:e.chain_type,createdAt:new Date(e.created_at),rules:e.rules.map((({name:e,method:o,action:a,conditions:r,id:t})=>({id:t,name:e,method:o,action:a,conditions:r.map((e=>"ethereum_calldata"===e.field_source?{fieldSource:e.field_source,field:e.field,operator:e.operator,value:e.value,abi:e.abi}:"ethereum_typed_data_message"===e.field_source?{fieldSource:e.field_source,field:e.field,operator:e.operator,value:e.value,typedData:{primaryType:e.typed_data.primary_type,types:e.typed_data.types}}:{fieldSource:e.field_source,field:e.field,operator:e.operator,value:e.value}))})))}};
